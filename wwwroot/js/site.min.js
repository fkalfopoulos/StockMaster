function resetTradeBoxes(){$("#txtQuantity").empty();$("#lblPrice").empty();$("#txtTotal").empty()}function ajaxWealthQuantity(n){$.ajax({url:"/TradeHelperService/apiWealthFind/?symbolId="+n,type:"GET",success:function(n){if(console.log(n),typeof n!="undefined"){var t=Number(n),i=Number($("#txtQuantity").val());if(console.log("sellQty: "+i),console.log("ownQty: "+t),console.log(t>i),t>=i){$("#txtTotal").val(total);return}$("#warningMessage").html("<h2 class='alert alert-danger text-center'>You cannot sell it because of the low shares!<\/h2>");$("#txtQuantity").val("");$("#txtTotal").val("");return}$("#warningMessage").html("<h2 class='alert alert-danger text-center'>You cannot sell it because of the low shares!<\/h2>");$("#txtQuantity").val("");$("#txtTotal").val("");return}})}$(document).ready(function(){$(".navbar-collapse").click(function(){$(".navbar-collapse").collapse("hide")});$(".navbar-brand").click(function(){$(".navbar-collapse").collapse("hide")})});$(document).ready(function(){$("#SearchSymbol").focus();$("#btnSymbol").on("click",function(n){n.preventDefault();$("#txtError").empty();var t=$("#SearchSymbol").val(),i=$("#MonthId").val();let r={Symbol:t,MonthId:i};if(t==""){$("#txtError").html("Symbol cannot be empty.");return}$.ajax({url:"/OpenAPI/getPrice/?SearchSymbol",type:"GET",data:r,success:function(n){$("#priceDiv").html(n)}});console.log(i);$.ajax({url:"/OpenAPI/getChart/?SearchSymbol="+t,type:"GET",success:function(n){$("#symbolChartDiv").html(n)}});$.ajax({url:"/OpenAPI/marketCap/?SearchSymbol="+t,type:"GET",success:function(n){$("#marketCap").html(n)}});$.ajax({url:"/OpenAPI/getInfo/?SearchSymbol="+t,type:"GET",success:function(n){$("#symbolInfoDiv").html(n)}});$.ajax({url:"/OpenAPI/getAdvanced/?SearchSymbol="+t,type:"GET",success:function(n){$("#symbolAdvancedDiv").html(n)}});$.ajax({url:"/OpenAPI/getFin/?SearchSymbol="+t,type:"GET",success:function(n){$("#finDiv").html(n)}});$.ajax({url:"/OpenAPI/GetFunds/?SearchSymbol="+t,type:"GET",success:function(n){console.log(n);$("#peersDiv").html(n)}})});$("#SearchSymbol").keypress(function(n){var t=n.which;if(t==13)return $("#btnSymbol").click(),!1})});$("#ddlSymbol").change(function(n){n.preventDefault();$("#warningMessage").empty();var t=$(this).find("option:selected"),i=t.text();$.ajax({url:"/OpenAPI/getChart/?SearchSymbol="+i,type:"GET",success:function(n){$("#symbolChartDiv").html(n)}})});$(document).ready(function(){$("#btnSignedInSymbol").on("click",function(n){n.preventDefault();$("#txtError").empty();var t=document.getElementById("SearchSymbol").value;if(typeof t!="undefined"&&t)$.ajax({url:"/OpenAPI/getSymbolPrice/?SearchSymbol="+t,type:"GET",success:function(n){if(n==""){$("#txtError").html("Symbol is not VALID.");return}window.location.href="/Trade/Create?symbol="+t+"&price="+n}});else{$("#txtError").html("Symbol cannot be empty.");return}});$("#SearchSymbol").keypress(function(n){var t=n.which;if(t==13)return $("#btnSignedInSymbol").click(),!1})});$("#ddlSymbol").change(function(){$("#warningMessage").empty();var t=$(this).find("option:selected"),n=t.text();$("#lblTradeON").html(n);$.ajax({url:"/OpenAPI/getSymbolPrice/?SearchSymbol="+n,type:"GET",success:function(n){$("#lblPrice").val(n);isNaN($("#txtQuantity").val())||($("#txtQuantity").val(""),$("#txtTotal").val(""))},fail:function(n){console.log(n);$("#warningMessage").html("<h2 class='alert alert-danger text-center'>Error! Try later!!!<\/h2>")}})});$("#ddlTradeAction").change(function(n){var t,u;n.preventDefault();resetTradeBoxes();$("#warningMessage").empty();var f=$("#ddlTradeAction").find("option:selected"),i=f.text(),r=$("#ddlSymbol").find("option:selected").val();if(console.log(r),i.toUpperCase()=="BUY"){if(t=(Number.parseFloat($("#lblPrice").val()).toFixed(2)*Number.parseFloat($("#txtQuantity").val()).toFixed(2)).toFixed(2),u=Number.parseFloat($("#lblCashBalanceAmount").text().replace("$","")).toFixed(2),parseFloat(u)<parseFloat(t)){$("#warningMessage").html("<h2 class='alert alert-danger text-center'>You cannot buy it because of the low balance!<\/h2>");$("#txtQuantity").val("");$("#txtTotal").val("");return}$("#txtTotal").val(t);return}i.toUpperCase()=="SELL"&&ajaxWealthQuantity(r)});$("#txtQuantity").keyup(function(n){n.preventDefault();resetTradeBoxes();$("#warningMessage").empty();var t=(Number.parseFloat($("#lblPrice").val()).toFixed(2)*Number.parseFloat($("#txtQuantity").val()).toFixed(2)).toFixed(2),r=Number.parseFloat($("#lblCashBalanceAmount").text().replace("$","")).toFixed(2),u=$("#ddlTradeAction").find("option:selected"),i=u.text(),f=$("#ddlSymbol").find("option:selected").val();if(parseFloat(r)<parseFloat(t)&&i.toUpperCase()!="SELL"){$("#warningMessage").html("<h2 class='alert alert-danger text-center'>You cannot buy it because of the low balance!<\/h2>");$("#txtQuantity").val("");$("#txtTotal").val("");return}if(i.toUpperCase()=="SELL")ajaxWealthQuantity(f);else{$("#txtTotal").val(t);return}});$(document).ready(function(){$("#SearchSymbol").autocomplete({source:function(n,t){$.ajax({url:"/OpenAPI/getSymbolAutocomplete/?txtSymbol="+$("#SearchSymbol").val(),type:"GET",contentType:"application/json; charset=utf-8",success:function(n){t(n)}})}})});$(document).ready(function(){$("#btnCookieString").on("click",function(n){document.cookie=n.target.dataset.cookieString;document.querySelector("#cookieConsent").classList.add("hidden")},!1)});$(document).ready(function(){top.location.pathname==="/"&&$("body").css({"background-image":'url("/images/bg-pattern.png")'})});